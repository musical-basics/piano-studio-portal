{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///Users/lionelyu/Documents/New%20Version/piano-studio-prototype/components/student-dashboard.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const StudentDashboard = registerClientReference(\n    function() { throw new Error(\"Attempted to call StudentDashboard() from the server but StudentDashboard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/student-dashboard.tsx <module evaluation>\",\n    \"StudentDashboard\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,uYAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,kEACA","ignoreList":[0]}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/lionelyu/Documents/New%20Version/piano-studio-prototype/components/student-dashboard.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const StudentDashboard = registerClientReference(\n    function() { throw new Error(\"Attempted to call StudentDashboard() from the server but StudentDashboard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/student-dashboard.tsx\",\n    \"StudentDashboard\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,uYAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,8CACA","ignoreList":[0]}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///Users/lionelyu/Documents/New%20Version/piano-studio-prototype/app/student/page.tsx"],"sourcesContent":["import { redirect } from \"next/navigation\"\nimport { createClient } from \"@/lib/supabase/server\"\nimport { StudentDashboard } from \"@/components/student-dashboard\"\n\nexport default async function StudentPage() {\n  const supabase = await createClient()\n\n  // Check authentication\n  const { data: { user }, error: authError } = await supabase.auth.getUser()\n\n  if (authError || !user) {\n    redirect(\"/login\")\n  }\n\n  // Fetch profile data\n  const { data: profile, error: profileError } = await supabase\n    .from(\"profiles\")\n    .select(\"*\")\n    .eq(\"id\", user.id)\n    .single()\n\n  if (profileError || !profile) {\n    console.error(\"Profile fetch error:\", profileError)\n    redirect(\"/login\")\n  }\n\n  // Fetch lessons for this student\n  const { data: lessons, error: lessonsError } = await supabase\n    .from(\"lessons\")\n    .select(\"*\")\n    .eq(\"student_id\", user.id)\n    .order(\"date\", { ascending: false })\n\n  if (lessonsError) {\n    console.error(\"Lessons fetch error:\", lessonsError)\n  }\n\n  // Find next scheduled lesson\n  const today = new Date().toISOString().split('T')[0]\n  const upcomingLessons = (lessons || [])\n    .filter(l => l.status === 'scheduled' && l.date >= today)\n    .sort((a, b) => a.date.localeCompare(b.date))\n\n  const nextScheduledLesson = upcomingLessons[0]\n\n  // Format next lesson for UI\n  const nextLesson = nextScheduledLesson ? {\n    date: nextScheduledLesson.date,\n    time: formatTimeForDisplay(nextScheduledLesson.time),\n    duration: 60 // Default duration\n  } : null\n\n  return (\n    <StudentDashboard\n      profile={profile}\n      lessons={lessons || []}\n      nextLesson={nextLesson}\n    />\n  )\n}\n\n// Helper to format time (HH:MM:SS -> h:mm AM/PM)\nfunction formatTimeForDisplay(timeStr: string): string {\n  const [hours, minutes] = timeStr.split(':').map(Number)\n  const ampm = hours >= 12 ? 'PM' : 'AM'\n  const displayHours = hours % 12 || 12\n  return `${displayHours}:${minutes.toString().padStart(2, '0')} ${ampm}`\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AACA;;;;;AAEe,eAAe;IAC5B,MAAM,WAAW,MAAM,IAAA,yIAAY;IAEnC,uBAAuB;IACvB,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAExE,IAAI,aAAa,CAAC,MAAM;QACtB,IAAA,gUAAQ,EAAC;IACX;IAEA,qBAAqB;IACrB,MAAM,EAAE,MAAM,OAAO,EAAE,OAAO,YAAY,EAAE,GAAG,MAAM,SAClD,IAAI,CAAC,YACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,KAAK,EAAE,EAChB,MAAM;IAET,IAAI,gBAAgB,CAAC,SAAS;QAC5B,QAAQ,KAAK,CAAC,wBAAwB;QACtC,IAAA,gUAAQ,EAAC;IACX;IAEA,iCAAiC;IACjC,MAAM,EAAE,MAAM,OAAO,EAAE,OAAO,YAAY,EAAE,GAAG,MAAM,SAClD,IAAI,CAAC,WACL,MAAM,CAAC,KACP,EAAE,CAAC,cAAc,KAAK,EAAE,EACxB,KAAK,CAAC,QAAQ;QAAE,WAAW;IAAM;IAEpC,IAAI,cAAc;QAChB,QAAQ,KAAK,CAAC,wBAAwB;IACxC;IAEA,6BAA6B;IAC7B,MAAM,QAAQ,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;IACpD,MAAM,kBAAkB,CAAC,WAAW,EAAE,EACnC,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,eAAe,EAAE,IAAI,IAAI,OAClD,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,IAAI,CAAC,aAAa,CAAC,EAAE,IAAI;IAE7C,MAAM,sBAAsB,eAAe,CAAC,EAAE;IAE9C,4BAA4B;IAC5B,MAAM,aAAa,sBAAsB;QACvC,MAAM,oBAAoB,IAAI;QAC9B,MAAM,qBAAqB,oBAAoB,IAAI;QACnD,UAAU,GAAG,mBAAmB;IAClC,IAAI;IAEJ,qBACE,6WAAC,uJAAgB;QACf,SAAS;QACT,SAAS,WAAW,EAAE;QACtB,YAAY;;;;;;AAGlB;AAEA,iDAAiD;AACjD,SAAS,qBAAqB,OAAe;IAC3C,MAAM,CAAC,OAAO,QAAQ,GAAG,QAAQ,KAAK,CAAC,KAAK,GAAG,CAAC;IAChD,MAAM,OAAO,SAAS,KAAK,OAAO;IAClC,MAAM,eAAe,QAAQ,MAAM;IACnC,OAAO,GAAG,aAAa,CAAC,EAAE,QAAQ,QAAQ,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC,EAAE,MAAM;AACzE"}}]
}